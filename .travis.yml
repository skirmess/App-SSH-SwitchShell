# Automatically generated file
# Dist::Zilla::Plugin::Author::SKIRMESS::RepositoryBase 0.029

language: perl

cache:
  directories:
    - ~/perl5

env:
  global:
    - AUTOMATED_TESTING=1

matrix:
  include:
    - perl: '5.8'

    - perl: '5.10'
      env: AUTHOR_TESTING=1

    - perl: '5.12'
      env: AUTHOR_TESTING=1

    - perl: '5.14'
      env: AUTHOR_TESTING=1

    - perl: '5.16'
      env: AUTHOR_TESTING=1

    - perl: '5.18'
      env: AUTHOR_TESTING=1

    - perl: '5.18'
      env: AUTHOR_TESTING=1
      os: osx

    - perl: '5.20'
      env: AUTHOR_TESTING=1

    - perl: '5.22'
      env: AUTHOR_TESTING=1

    - perl: '5.24'
      env: AUTHOR_TESTING=1

    - perl: '5.26'
      env: AUTHOR_TESTING=1

install:
  - if [ -n "$AUTHOR_TESTING" ]; then cpanm --quiet --installdeps --notest --skip-satisfied --with-develop .; fi
  - if [ -z "$AUTHOR_TESTING" ]; then cpanm --quiet --installdeps --notest --skip-satisfied .; fi

script:
  - perl Makefile.PL && make test
  - if [ -n "$AUTHOR_TESTING" ]; then prove -lr xt/author; fi
